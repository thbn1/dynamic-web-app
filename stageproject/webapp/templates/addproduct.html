<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous"
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
    <title>Document</title>
</head>
<body>
    <div class="container">


        <div class="h-75 d-flex align-items-center justify-content-center">
            <form method="post" enctype="multipart/form-data" name="form1">
                {% csrf_token %}
                    <label for="id_image">Ürün Adı:</label><br>
                    <input type="text" id="name" name="name" value=""><br><br>
                    <label for="id_image">Ürün Fiyatı:</label><br>
                    <input type="text" id="name" name="price" value=""><br><br>
                    <label for="id_image">Ürün Açıklaması:</label><br>
                    <textarea name="description" rows="6" cols="50"></textarea><br><br>
                   
                    <label for="id_image">Kategori:</label><br>
                        <select name="category" id="c">
                            <option value="bilgisayar">Bilgisayar</option>
                            <option value="telefon">Telefon</option>
                            <option value="ev aletleri">Ev Aletleri</option>
                          </select><br><br>
                    <label for="id_image">Resim:</label><br>
                    <button type="button" style="display:block;width:120px; height:30px;" onclick="document.getElementById('getFile').click()">Görselleri Seç</button>
                    <input type='file' id="getFile" accept="image/*" required id="id_image" id="getFile" style="display:none" name="images" multiple><br><br>

                    <div id="imgs">
                        
                        <script>getFile.onchange = evt => {
                            document.getElementById("imgs").innerHTML="";
                            const files=event.target.files;
                            var i=0;
                            for (let index of files) {
                                i++;

                                
                                document.getElementById("imgs").innerHTML += `<img onclick="deletefunc(this)" name="${i}" src="${URL.createObjectURL(index)}" style="width: 100px;" >`;
                               
                            };};
                            function deletefunc(elem){
                                elem.remove();
                              
                            }
                        </script>
                    </div>
                    <button name="submit" type="submit">Yükle</button>
              </form>
              
              {% if img_obj %}
                <h3>Succesfully uploaded : {{img_obj.title}}</h3>
                <img src="{{ img_obj.image.url}}" alt="connect" style="max-height:300px">
              {% endif %}
              
        </div>

        <div class="h-50 d-flex align-items-center justify-content-center">
            {{data}}
            <hr>
            {% for img in images %}
            <img src="{{img.images.url}}" alt="Image">
            {% endfor %}
        </div>
    </div>
</body>
</html>